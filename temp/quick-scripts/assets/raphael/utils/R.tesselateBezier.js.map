{"version":3,"sources":["R.tesselateBezier.js"],"names":["tessTol","abs","Math","tesselateBezier","x1","y1","x2","y2","x3","y3","x4","y4","level","points","tessTolSclae","x12","y12","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","dx","dy","d2","d3","push","module","exports"],"mappings":";;;;;;AACA,IAAIA,UAAU,IAAd;;AAEA,IAAIC,MAAMC,KAAKD,GAAf;;AAEA,SAASE,eAAT,CAA0BC,EAA1B,EAA8BC,EAA9B,EAAkCC,EAAlC,EAAsCC,EAAtC,EAA0CC,EAA1C,EAA8CC,EAA9C,EAAkDC,EAAlD,EAAsDC,EAAtD,EAA0DC,KAA1D,EAAiEC,MAAjE,EAAyEC,YAAzE,EAAuF;AACnFA,mBAAeA,gBAAgB,CAA/B;;AAEA,QAAIC,GAAJ,EAASC,GAAT,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,EAAwCC,IAAxC,EAA8CC,IAA9C,EAAoDC,IAApD,EAA0DC,KAA1D,EAAiEC,KAAjE;AACA,QAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB;;AAEA,QAAIlB,QAAQ,EAAZ,EAAgB;;AAEhBG,UAAM,CAACX,KAAKE,EAAN,IAAY,GAAlB;AACAU,UAAM,CAACX,KAAKE,EAAN,IAAY,GAAlB;AACAU,UAAM,CAACX,KAAKE,EAAN,IAAY,GAAlB;AACAU,UAAM,CAACX,KAAKE,EAAN,IAAY,GAAlB;AACAU,UAAM,CAACX,KAAKE,EAAN,IAAY,GAAlB;AACAU,UAAM,CAACX,KAAKE,EAAN,IAAY,GAAlB;AACAU,WAAO,CAACN,MAAME,GAAP,IAAc,GAArB;AACAK,WAAO,CAACN,MAAME,GAAP,IAAc,GAArB;;AAEAS,SAAKjB,KAAKN,EAAV;AACAwB,SAAKjB,KAAKN,EAAV;AACAwB,SAAK5B,IAAI,CAACK,KAAKI,EAAN,IAAYkB,EAAZ,GAAiB,CAACrB,KAAKI,EAAN,IAAYgB,EAAjC,CAAL;AACAG,SAAK7B,IAAI,CAACO,KAAKE,EAAN,IAAYkB,EAAZ,GAAiB,CAACnB,KAAKE,EAAN,IAAYgB,EAAjC,CAAL;;AAEA,QAAI,CAACE,KAAKC,EAAN,KAAaD,KAAKC,EAAlB,IAAwB9B,UAAUc,YAAV,IAA0Ba,KAAKA,EAAL,GAAUC,KAAKA,EAAzC,CAA5B,EAA0E;AACtEf,eAAOkB,IAAP,CAAYrB,EAAZ;AACAG,eAAOkB,IAAP,CAAYpB,EAAZ;AACA;AACH;;AAEDY,WAAO,CAACN,MAAME,GAAP,IAAc,GAArB;AACAK,WAAO,CAACN,MAAME,GAAP,IAAc,GAArB;AACAK,YAAQ,CAACJ,OAAOE,IAAR,IAAgB,GAAxB;AACAG,YAAQ,CAACJ,OAAOE,IAAR,IAAgB,GAAxB;;AAEArB,oBAAgBC,EAAhB,EAAoBC,EAApB,EAAwBU,GAAxB,EAA6BC,GAA7B,EAAkCK,IAAlC,EAAwCC,IAAxC,EAA8CG,KAA9C,EAAqDC,KAArD,EAA4Dd,QAAQ,CAApE,EAAuEC,MAAvE,EAA+EC,YAA/E;AACAX,oBAAgBsB,KAAhB,EAAuBC,KAAvB,EAA8BH,IAA9B,EAAoCC,IAApC,EAA0CL,GAA1C,EAA+CC,GAA/C,EAAoDV,EAApD,EAAwDC,EAAxD,EAA4DC,QAAQ,CAApE,EAAuEC,MAAvE,EAA+EC,YAA/E;AACH;;AAEDkB,OAAOC,OAAP,GAAiB9B,eAAjB","file":"R.tesselateBezier.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\raphael\\utils","sourcesContent":["\r\nvar tessTol = 0.25;\r\n\r\nvar abs = Math.abs;\r\n\r\nfunction tesselateBezier (x1, y1, x2, y2, x3, y3, x4, y4, level, points, tessTolSclae) {\r\n    tessTolSclae = tessTolSclae || 1;\r\n\r\n    var x12, y12, x23, y23, x34, y34, x123, y123, x234, y234, x1234, y1234;\r\n    var dx, dy, d2, d3;\r\n\r\n    if (level > 10) return;\r\n\r\n    x12 = (x1 + x2) * 0.5;\r\n    y12 = (y1 + y2) * 0.5;\r\n    x23 = (x2 + x3) * 0.5;\r\n    y23 = (y2 + y3) * 0.5;\r\n    x34 = (x3 + x4) * 0.5;\r\n    y34 = (y3 + y4) * 0.5;\r\n    x123 = (x12 + x23) * 0.5;\r\n    y123 = (y12 + y23) * 0.5;\r\n\r\n    dx = x4 - x1;\r\n    dy = y4 - y1;\r\n    d2 = abs((x2 - x4) * dy - (y2 - y4) * dx);\r\n    d3 = abs((x3 - x4) * dy - (y3 - y4) * dx);\r\n\r\n    if ((d2 + d3) * (d2 + d3) < tessTol * tessTolSclae * (dx * dx + dy * dy)) {\r\n        points.push(x4);\r\n        points.push(y4);\r\n        return;\r\n    }\r\n\r\n    x234 = (x23 + x34) * 0.5;\r\n    y234 = (y23 + y34) * 0.5;\r\n    x1234 = (x123 + x234) * 0.5;\r\n    y1234 = (y123 + y234) * 0.5;\r\n\r\n    tesselateBezier(x1, y1, x12, y12, x123, y123, x1234, y1234, level + 1, points, tessTolSclae);\r\n    tesselateBezier(x1234, y1234, x234, y234, x34, y34, x4, y4, level + 1, points, tessTolSclae);\r\n}\r\n\r\nmodule.exports = tesselateBezier;\r\n"]}