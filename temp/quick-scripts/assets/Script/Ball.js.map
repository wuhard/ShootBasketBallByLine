{"version":3,"sources":["Ball.ts"],"names":[],"mappings":";;;;;AAAA,iDAA4C;AAG5C,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAkC,wBAAY;IAA9C;;IA8DC,CAAC;IAxDE,wBAAwB;IAExB,eAAe;IAEf,oBAAK,GAAL;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IAChD,CAAC;IAED,6BAAc,GAAd,UAAe,OAAyB,EAAC,YAA+B,EAAC,aAAgC;QAErG,IAAI,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE;YAC1C,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,YAAY,CAAgB,uBAAa,CAAC,CAAC;YAGxF,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;YACnC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAEzC;aACI,IAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,EACtD;YACG,2BAA2B;YAC1B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,YAAY,CAAgB,uBAAa,CAAC,CAAC;YAGxF,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpE,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;YAEnC,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAGnG,IAAI,WAAW,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAEpF,IAAI,cAAc,GAAI,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC;YAG9F,uDAAuD;YAEvD,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SAKvB;IAEL,CAAC;IAED,gCAAiB,GAAjB;QAEE,+BAA+B;QAC9B,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC;QACjD,EAAE;IACL,CAAC;IA3De,IAAI;QADxB,OAAO;OACa,IAAI,CA8DvB;IAAD,WAAC;CA9DF,AA8DE,CA9DgC,EAAE,CAAC,SAAS,GA8D5C;kBA9DmB,IAAI","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import GameViewLogic from \"./GameViewLogic\";\r\nimport EffectPlayManager from \"./EffectPlayManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Ball extends cc.Component {\r\n\r\n    body:cc.RigidBody;\r\n\r\n    gameViewLogic:GameViewLogic;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        this.body = this.getComponent(cc.RigidBody);\r\n    }\r\n\r\n    onBeginContact(contact:cc.PhysicsContact,selfCollider:cc.PhysicsCollider,otherCollider:cc.PhysicsCollider) {\r\n     \r\n        if (otherCollider.body.node.name == 'ground') {\r\n            this.gameViewLogic = cc.find(\"Canvas/Logic\").getComponent<GameViewLogic>(GameViewLogic);\r\n \r\n           \r\n            this.gameViewLogic.RemaveAllLine();\r\n            this.node.destroy();\r\n            this.gameViewLogic.ShowLosePanel(true);\r\n \r\n         } \r\n         else if(otherCollider.body.node.name == 'BasketBottom')\r\n         {\r\n            // cc.log(\"get one score\");\r\n             this.gameViewLogic = cc.find(\"Canvas/Logic\").getComponent<GameViewLogic>(GameViewLogic);\r\n \r\n           \r\n             this.gameViewLogic.RemoveBasketNode(otherCollider.body.node.parent);\r\n             this.gameViewLogic.RemaveAllLine();\r\n            \r\n             this.gameViewLogic.PlayEnterBallEffect(otherCollider.body.node.convertToWorldSpaceAR(cc.v2(0, 0)));\r\n             \r\n             \r\n             let basketWorld = otherCollider.body.node.parent.convertToWorldSpaceAR(cc.v2(0, 0));\r\n \r\n             let basketLocalPos =  otherCollider.body.node.parent.parent.convertToNodeSpaceAR(basketWorld);\r\n \r\n \r\n             //this.gameViewLogic.ProduceBoomBasket(basketLocalPos);\r\n\r\n             this.ProduceNextBasket();\r\n             this.node.destroy();\r\n\r\n         \r\n            \r\n            \r\n         }\r\n       \r\n     }\r\n \r\n     ProduceNextBasket()\r\n     {\r\n       // cc.log(\"ProduceNextBasket\");\r\n        this.gameViewLogic.ProduceNextLevelBasketCase(2);\r\n        //\r\n     }\r\n    \r\n\r\n }\r\n"]}