{"version":3,"sources":["GameViewLogic.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/typescript/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\nconst {ccclass, property} = cc._decorator;\nlet talefun = (<any>cc).talefun;\n\n@ccclass\nexport default class GameViewLogic extends cc.Component {\n    // LIFE-CYCLE CALLBACKS:\n\n    @property(cc.Prefab)\n    physicsNode: cc.Prefab;\n    @property(cc.Prefab)\n    ball:cc.Prefab = null;\n    @property(cc.Node)\n    ballParent:cc.Node;\n    @property(cc.Node)\n    linesParent:cc.Node;\n    physicsNodeArr: cc.Node[] = [];\n\n    onLoad () {\n        cc.director.getPhysicsManager().enabled = true;\n        // cc.director.getPhysicsManager().debugDrawFlags = cc.PhysicsManager.DrawBits.e_aabbBit |\n        // cc.PhysicsManager.DrawBits.e_pairBit |\n        // cc.PhysicsManager.DrawBits.e_centerOfMassBit |\n        // cc.PhysicsManager.DrawBits.e_jointBit |\n        // cc.PhysicsManager.DrawBits.e_shapeBit\n        // ;\n        cc.director.getPhysicsManager().gravity = cc.v2(0, -640);\n\n        let self = this;\n        \n        this.instantiateOneBall();\n        self.node.on(cc.Node.EventType.TOUCH_START, self.touchStart.bind(self));\n        self.node.on(cc.Node.EventType.TOUCH_MOVE, self.touchMove.bind(self));\n        self.node.on(cc.Node.EventType.TOUCH_END, self.touchEnd.bind(self));\n        self.node.on(cc.Node.EventType.TOUCH_CANCEL, self.touchCancel.bind(self));\n\n        //先创建一个物体等待绘画，如果在touchstart里面创建第一条线就不能监听到划线的start函数了。\n        let physicsNode = cc.instantiate(this.physicsNode);\n        this.node.addChild(physicsNode);\n        physicsNode.name = \"first\";\n        this.physicsNodeArr.push(physicsNode);\n    }\n\n    onEnter() {\n        \n    }\n\n    touchStart(event : cc.Event.EventTouch) \n    {\n        let physicsNode = cc.instantiate(this.physicsNode);\n        this.node.addChild(physicsNode); \n        this.physicsNodeArr.push(physicsNode);\n        cc.log(\"logicStart\");\n    }\n\n    touchMove(event : cc.Event.EventTouch) {\n        \n    }\n\n    touchEnd(event : cc.Event.EventTouch) {\n        \n    }\n\n    touchCancel(event : cc.Event.EventTouch) {\n        \n    }\n\n    public instantiateOneBall()\n    {\n    \n        var startPos =  this.node.convertToNodeSpaceAR(cc.v2(600,1155));\n        let tempball = cc.instantiate(this.ball);\n        this.ballParent.addChild(tempball);\n        tempball.setPosition(startPos);\n      \n    }\n\n    public RemaveAllLine()\n    {\n        cc.log(\"removeline\");\n        var children = this.node.children;\n        cc.log(children.length);\n        for(var i = 0; i < children.length - 1; i++)\n        {\n            children[i].destroy();\n        }\n\n        var arrLenght = this.physicsNodeArr.length;\n        this.physicsNodeArr.slice(0,arrLenght-1);\n    }\n}\n"]}