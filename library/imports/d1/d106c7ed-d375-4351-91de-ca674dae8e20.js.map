{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\NoticeAndProduceManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import Singleton from \"./Singleton\";\r\nimport ProduceBasketManager from \"./ProduceBasketManager\";\r\nimport LevelDataManager from \"./LevelDataManager\";\r\nimport { ShootInfor } from \"./SceneLevelData\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\nlet talefun = (<any>cc).talefun;\r\n\r\n@ccclass\r\nexport default class NoticeAndProduceManager extends Singleton<NoticeAndProduceManager> {\r\n\r\n    @property(cc.Node)\r\n    ballParent:cc.Node;\r\n\r\n    @property(cc.Prefab)\r\n    ballGuide:cc.Prefab;\r\n\r\n    @property(cc.Prefab)\r\n    bombGuide:cc.Prefab;\r\n\r\n    @property(cc.Prefab)\r\n    ball:cc.Prefab;\r\n\r\n    @property(cc.Prefab)\r\n    bomb:cc.Prefab;\r\n\r\n    @property(cc.Node)\r\n    guidePos:cc.Node[] = [];\r\n\r\n    bornPos : cc.Node[] = [];\r\n\r\n    shootPos: number[] = []; // 1代表篮球 2代表炸弹 0代表没有\r\n\r\n    bornSeq: number[] = []; //实例化延迟时间\r\n\r\n    velocity: cc.Vec2[] = [cc.v2(0,2000),cc.v2(0,2500)];\r\n\r\n    ballGuideArray: cc.Node[] = [];\r\n    bombGuideArray: cc.Node[] = [];\r\n    veloctiyY:number = 2000;\r\n\r\n    basketBallNum:number = 0;\r\n\r\n    bombArray:cc.Node[] = [];\r\n    basketBallArray:cc.Node[] = [];\r\n    basektBallPosArray:cc.Vec2[] = [];\r\n\r\n    @property(ProduceBasketManager)\r\n    produceBasketManager:ProduceBasketManager;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n       \r\n    }\r\n\r\n\r\n    CreatBornPosByType(posType:number)\r\n    {\r\n        this.bornPos.splice(0,this.bornPos.length);\r\n        switch(posType)\r\n        {\r\n            case -1:\r\n                    this.bornPos.push(this.guidePos[this.random(2,this.guidePos.length)]);\r\n                break;\r\n            case 0:\r\n                 this.bornPos.push(this.random(0,2) == 0 ? this.guidePos[0]:this.guidePos[3]);\r\n                break;\r\n            case 1:\r\n                 this.bornPos.push(this.guidePos[this.random(0,2)]);\r\n                break;\r\n        }\r\n      //  cc.log(\"BornPosLength\" + this.bornPos.length);\r\n    }\r\n\r\n    ///设置生成位置数据\r\n    public SetBornType(pos:number[])\r\n    {\r\n        //清空\r\n        this.bornPos.splice(0,this.bornPos.length);\r\n        for(var i = 0; i < pos.length; i++)\r\n        {\r\n            this.shootPos.push(pos[i]);\r\n        }\r\n    }\r\n\r\n    ///获取创建的位置信息\r\n    CreatBornPos(num:number)\r\n    {\r\n        // this.bornPos.splice(0,this.bornPos.length);\r\n\r\n        // var randomPos:number[] = [];\r\n        // for(var i = 0; i < this.guidePos.length; i++)\r\n        // {\r\n        //     randomPos.push(i);\r\n           \r\n        // }\r\n        // for(var j = 0; j < num; j++)\r\n        // {\r\n        //     var randomValue =  this.random(0,randomPos.length);\r\n        //     var posIndex:number = randomPos[randomValue];\r\n           \r\n           \r\n        //     this.bornPos.push(this.guidePos[posIndex]);\r\n        //     randomPos.slice(randomValue,1);\r\n        // }\r\n     \r\n    }\r\n\r\n    ///获取出场顺序\r\n    CreatBornTypeOrde()\r\n    {\r\n        // this.bornType.slice(0,this.bornType.length);\r\n\r\n        // for(var i = 0; i < this.bornPos.length; i++)\r\n        // {\r\n        //     this.bornType.push(this.random(-1,1));\r\n        // }\r\n\r\n        // var ballOrder = this.random(0,this.bornType.length);\r\n        // this.bornType[ballOrder] = 0;\r\n    }\r\n    \r\n    //创建一个球的发射提示\r\n    ProduceOneBallGuide(posNode:cc.Node):cc.Node\r\n    {\r\n        let bornNode = posNode;\r\n        let tempball = cc.instantiate(this.ballGuide);\r\n        var fadeAction = cc.fadeTo(0.3,1);\r\n        tempball.runAction(fadeAction);\r\n        this.node.addChild(tempball);\r\n        tempball.setPosition(bornNode.position);\r\n        return tempball;\r\n\r\n    }\r\n\r\n    ///根据位置创建一个提示\r\n    ProduceOneBallGuideByPos(guidePos:cc.Vec2):cc.Node\r\n    {\r\n      \r\n        let tempball = cc.instantiate(this.ballGuide);\r\n        var fadeAction = cc.fadeTo(0.3,255);\r\n        tempball.runAction(fadeAction);\r\n        this.node.addChild(tempball);\r\n        tempball.setPosition(guidePos);\r\n        return tempball;\r\n\r\n    }\r\n\r\n\r\n    GetShootVelority(angle:number):cc.Vec2\r\n    {\r\n        var anglePI = Math.PI/180 * angle\r\n       \r\n        return cc.v2(this.veloctiyY/Math.tan(anglePI),this.veloctiyY);\r\n    }\r\n\r\n\r\n    //创建一个炸弹的发射提示\r\n    ProduceOneBoomGuide(posNode:cc.Node):cc.Node\r\n    {\r\n        let bornNode = posNode;\r\n\r\n        let tempbomb = cc.instantiate(this.bombGuide);\r\n        var fadeAction = cc.fadeTo(0.3,255);\r\n        tempbomb.runAction(fadeAction);\r\n        this.node.addChild(tempbomb);\r\n        tempbomb.setPosition(bornNode.position);\r\n        return tempbomb;\r\n    }\r\n\r\n    ProduceOneBoomGuideByPos(guidePos:cc.Vec2):cc.Node\r\n    {\r\n      \r\n        let tempball = cc.instantiate(this.bombGuide);\r\n        this.node.addChild(tempball);\r\n        var fadeAction = cc.fadeTo(0.3,255);\r\n        tempball.runAction(fadeAction);\r\n        tempball.setPosition(guidePos);\r\n        return tempball;\r\n\r\n    }\r\n\r\n\r\n\r\n    ///创建一次射击用例\r\n    public ProduceOneShootCase(shootInfors:ShootInfor[])\r\n    {\r\n        this.basketBallNum = 0;\r\n        this.bornPos.splice(0,this.bornPos.length);\r\n        this.ballGuideArray.splice(0,this.ballGuideArray.length);\r\n        this.bombGuideArray.splice(0,this.bombGuideArray.length);\r\n        this.bombArray.splice(0,this.bombArray.length);\r\n        cc.log(shootInfors.length);\r\n        for(var i = 0; i < shootInfors.length; i++)\r\n        {\r\n            switch(shootInfors[i].shootType)\r\n            {\r\n                case 0:\r\n                    this.basketBallNum++;\r\n                    let oneBallGuide = this.ProduceOneBallGuideByPos(shootInfors[i].shootPos);  \r\n                    let vel = shootInfors[i].velocity;//获取射击速度\r\n                    let delayTime = shootInfors[i].shootDelayTime;\r\n                    this.ballGuideArray.push(oneBallGuide);\r\n                    \r\n                    this.scheduleOnce(() => {\r\n                        // 这里的 this 指向 component\r\n                        this.ProduceOneShootBallAction(oneBallGuide,vel);\r\n                        \r\n                    }, delayTime/1000.0 + 0.5);//2s后执行一次\r\n                    break;\r\n                case 1:\r\n                        let oneBombGuide = this.ProduceOneBoomGuideByPos(shootInfors[i].shootPos);\r\n                        let bombVel = shootInfors[i].velocity;//获取射击速度\r\n                        let bombDelayTime = shootInfors[i].shootDelayTime;\r\n                        this.bombGuideArray.push(oneBombGuide);\r\n                        this.scheduleOnce(() => {\r\n                            // 这里的 this 指向 component\r\n                            this.ProduceOneShootBombAction(oneBombGuide,bombVel);\r\n                           \r\n                        }, bombDelayTime/1000.0 + 0.5);//2s后执行一次\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // //创建一次球和炸弹的用例\r\n    // public ProduceOneBallAndBombCase(shootPos:number[],shootSeq:number[],shootAngel:number [])\r\n    // {\r\n\r\n    //     this.bornPos.splice(0,this.bornPos.length);\r\n    //     this.ballGuideArray.splice(0,this.ballGuideArray.length);\r\n    //     this.bombGuideArray.splice(0,this.bombGuideArray.length);\r\n    //     this.basketBallArray.splice(0,this.basketBallArray.length);\r\n    //     this.basektBallPosArray.splice(0,this.basektBallPosArray.length);\r\n\r\n    //     for(var i = 0; i < shootPos.length; i++)\r\n    //     {\r\n    //         if(shootPos[i] == 1)\r\n    //         {\r\n    //             let oneBallGuide = this.ProduceOneBallGuide(this.guidePos[i]);  \r\n    //             let vel = this.GetShootVelority(shootAngel[i]);//获取射击速度\r\n    //             this.ballGuideArray.push(oneBallGuide);\r\n               \r\n    //             this.scheduleOnce(() => {\r\n    //                 // 这里的 this 指向 component\r\n    //                 this.ProduceOneShootBallAction(oneBallGuide,vel);\r\n                   \r\n    //             }, shootSeq[i]/1000.0 + 0.5);//2s后执行一次\r\n\r\n    //         }\r\n    //         else if(shootPos[i] == 2)\r\n    //         {\r\n    //             let oneBombGuide = this.ProduceOneBoomGuide(this.guidePos[i]);\r\n    //             let vel = this.GetShootVelority(shootAngel[i]);//获取射击速度\r\n    //             this.bombGuideArray.push(oneBombGuide);\r\n    //             this.scheduleOnce(() => {\r\n    //                 // 这里的 this 指向 component\r\n    //                 this.ProduceOneShootBombAction(oneBombGuide,vel);\r\n                   \r\n    //             }, shootSeq[i]/1000.0 + 0.5);//2s后执行一次\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    //创建一次射球动作\r\n    //velocity表示射球角度\r\n    ProduceOneShootBallAction(guidBall:cc.Node,velocity:cc.Vec2)\r\n    {\r\n        \r\n      \r\n        var fadeAction = cc.fadeTo(0.3,0);\r\n        var finished = cc.callFunc(this.GuidBallDestroy, guidBall,velocity);\r\n     \r\n        var seq = cc.sequence(fadeAction,finished);\r\n        guidBall.runAction(seq);\r\n        this.scheduleOnce(() => {\r\n            this.ProduceOneBall(guidBall,velocity);\r\n         }, 0.3);//2s后执行一次\r\n      \r\n    }\r\n\r\n    GuidBallDestroy(guidBall:cc.Node,velocity:cc.Vec2)\r\n    {\r\n        cc.log(\"Destory\");\r\n      //  this.ProduceOneBall(guidBall,velocity);\r\n        guidBall.destroy();  \r\n    }\r\n\r\n\r\n    ProduceOneShootBombAction(guidBall:cc.Node,velocity:cc.Vec2)\r\n    {\r\n     \r\n        var fadeAction = cc.fadeTo(0.3,0);\r\n        var finished = cc.callFunc(this.GuidBallDestroy, guidBall,velocity);\r\n     \r\n        var seq = cc.sequence(fadeAction,finished);\r\n        guidBall.runAction(seq);\r\n        this.scheduleOnce(() => {\r\n            this.ProduceOneBomb(guidBall,velocity);\r\n         }, 0.3);//2s后执行一次\r\n      \r\n    }\r\n\r\n    GuideBombDestroy(guidBomb:cc.Node,velocity:cc.Vec2)\r\n    {\r\n        guidBomb.destroy();\r\n    }\r\n\r\n    //创建一个球的\r\n    ProduceOneBall(posNode:cc.Node,velocity:cc.Vec2)\r\n    {\r\n      \r\n        var startPos =  posNode.convertToWorldSpaceAR(cc.v2(0,0));\r\n      \r\n        let tempball = cc.instantiate(this.ball);\r\n        tempball.parent = this.ballParent;\r\n        tempball.position = this.ballParent.convertToNodeSpaceAR(startPos);\r\n        tempball.getComponent<cc.RigidBody>(cc.RigidBody).linearVelocity = velocity;\r\n        this.basketBallArray.push(tempball);\r\n        this.basektBallPosArray.push(cc.v2(0,0));\r\n    }\r\n\r\n      \r\n    ProduceOneBomb(posNode:cc.Node,velocity:cc.Vec2)\r\n    {\r\n      \r\n        var startPos =  posNode.convertToWorldSpaceAR(cc.v2(0,0));\r\n      \r\n        let tempball = cc.instantiate(this.bomb);\r\n        tempball.parent = this.ballParent;\r\n        tempball.position = this.ballParent.convertToNodeSpaceAR(startPos);\r\n        tempball.getComponent<cc.RigidBody>(cc.RigidBody).linearVelocity = velocity;\r\n        this.bombArray.push(tempball);\r\n    }\r\n\r\n    CheckAllBallCanEnter():boolean\r\n    {\r\n        \r\n        for(var i = 0; i < this.basketBallArray.length; i++)\r\n        {\r\n            if(this.basketBallArray[i] != null)\r\n            {\r\n                var movePos = cc.v2(this.basektBallPosArray[i].x - this.basketBallArray[i].position.x,\r\n                    this.basektBallPosArray[i].y - this.basketBallArray[i].position.y);\r\n                \r\n                if(movePos.mag() <0.3)\r\n                {\r\n                    return false;\r\n                }\r\n           \r\n                this.basektBallPosArray[i] = this.basketBallArray[i].position;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    DestroyAllGuide()\r\n    {\r\n        for(var i = 0; i < this.bombGuideArray.length; i++)\r\n        {\r\n            if(this.bombGuideArray[i] != null)\r\n            {\r\n                this.bombGuideArray[i].destroy();\r\n            }\r\n        }\r\n        this.bombGuideArray.splice(0,this.bombGuideArray.length);\r\n\r\n        for(var i = 0; i < this.ballGuideArray.length; i++)\r\n        {\r\n            if(this.ballGuideArray[i] != null)\r\n            {\r\n                this.ballGuideArray[i].destroy();\r\n            }\r\n        }\r\n        this.ballGuideArray.splice(0,this.ballGuideArray.length);\r\n    }\r\n\r\n    DestroyAllBomb()\r\n    {\r\n        for(var i = 0; i < this.bombArray.length; i++)\r\n        {\r\n            if(this.bombArray[i] != null)\r\n            {\r\n                this.bombArray[i].destroy();\r\n            }\r\n        }\r\n        this.bombArray.splice(0,this.bombArray.length);\r\n    }\r\n    //删除所有球\r\n    DestroyAllBall()\r\n    {\r\n        for(var i = 0; i < this.basketBallArray.length; i++)\r\n        {\r\n            if(this.basketBallArray[i] != null)\r\n            {\r\n                this.basketBallArray[i].destroy();\r\n            }\r\n        }\r\n        this.basketBallArray.splice(0,this.basketBallArray.length);\r\n    }\r\n\r\n\r\n    StopProduceAction()\r\n    {\r\n        this.DestroyAllBall();\r\n        this.DestroyAllBomb();\r\n        this.DestroyAllGuide();\r\n        this.unscheduleAllCallbacks();\r\n    }\r\n\r\n    random(lower, upper) {\r\n\r\n        return Math.floor(Math.random() * (upper - lower)) + lower;\r\n        \r\n    }\r\n \r\n\r\n}\r\n"]}