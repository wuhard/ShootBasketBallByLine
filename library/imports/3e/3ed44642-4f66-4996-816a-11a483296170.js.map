{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\raphael\\utils/assets\\raphael\\utils\\R.dash.js"],"names":["sqrt","Math","drawDashPoints","points","ctx","dashArray","dashOffset","transform","lastx","lasty","dx","dy","totalLength","length","dashLength","dashIndex","from","drawLength","to","x1","y1","x","y","i","l","difLength","p","cc","pointApplyAffineTransform","moveTo","lineTo","module","exports"],"mappings":"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","file":"R.dash.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\raphael\\utils","sourcesContent":["var sqrt = Math.sqrt;\r\n\r\nfunction drawDashPoints (points, ctx, dashArray, dashOffset, transform) {\r\n    var lastx = points[0], \r\n        lasty = points[1];\r\n\r\n    var dx, dy;\r\n\r\n    var totalLength = 0;\r\n    var length = 0;\r\n\r\n    var dashLength = dashArray.length;\r\n    var dashIndex = 0;\r\n\r\n    var from = dashOffset;\r\n    var drawLength = dashArray[dashIndex];\r\n    var to = dashOffset + drawLength;\r\n\r\n    var x1,y1;\r\n    var x, y;\r\n\r\n    for (var i = 0, l = points.length / 2; i < l; i++) {\r\n        x = points[i * 2];\r\n        y = points[i * 2 + 1];\r\n\r\n        if (i !== 0) {\r\n            dx = x - lastx;\r\n            dy = y - lasty;\r\n\r\n            length = sqrt(dx*dx + dy*dy);\r\n\r\n            if (!x1) x1 = lastx;\r\n            if (!y1) y1 = lasty;\r\n\r\n            while (length > 0) {\r\n                if (totalLength + length < from) {\r\n                    totalLength += length;\r\n                    length = 0;\r\n                    \r\n                    x1 = x;\r\n                    y1 = y;\r\n\r\n                    continue;\r\n                }\r\n\r\n                if (totalLength <= from) {\r\n                    var difLength = from - totalLength;\r\n                    var p = difLength / length;\r\n\r\n                    x1 = x1 + p * (x - x1);\r\n                    y1 = y1 + p * (y - y1);\r\n\r\n                    if (transform) {\r\n                        var p = cc.pointApplyAffineTransform(x1, y1, transform);\r\n                        ctx.moveTo(p.x, p.y);    \r\n                    }\r\n                    else {\r\n                        ctx.moveTo(x1, y1);\r\n                    }\r\n\r\n                    length -= difLength;\r\n                    totalLength += difLength;\r\n                }\r\n                \r\n                if ((totalLength + length) < to) {\r\n                    x1 = x;\r\n                    y1 = y;\r\n\r\n                    if (transform) {\r\n                        var p = cc.pointApplyAffineTransform(x1, y1, transform);\r\n                        ctx.lineTo(p.x, p.y);    \r\n                    }\r\n                    else {\r\n                        ctx.lineTo(x1, y1);\r\n                    }\r\n\r\n                    totalLength += length;\r\n                    length = 0;\r\n                }\r\n                else if ((totalLength + length) >= to) {\r\n                    var difLength = to - totalLength;\r\n                    var p = difLength / length;\r\n\r\n                    x1 = x1 + p * (x - x1);\r\n                    y1 = y1 + p * (y - y1);\r\n\r\n                    if (transform) {\r\n                        var p = cc.pointApplyAffineTransform(x1, y1, transform);\r\n                        ctx.lineTo(p.x, p.y);    \r\n                    }\r\n                    else {\r\n                        ctx.lineTo(x1, y1);\r\n                    }\r\n\r\n                    length -= difLength;\r\n                    totalLength += difLength;\r\n\r\n                    from = to + dashArray[++dashIndex % dashLength];\r\n                    to = from + dashArray[++dashIndex % dashLength];\r\n                }\r\n            }\r\n        }\r\n\r\n        lastx = x;\r\n        lasty = y;\r\n    }   \r\n}\r\n\r\nmodule.exports = {\r\n    drawDashPoints: drawDashPoints\r\n};\r\n"]}