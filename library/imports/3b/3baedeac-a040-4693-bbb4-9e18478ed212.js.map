{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\LevelDataManager.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AAIpC,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAC1C,IAAI,OAAO,GAAS,EAAG,CAAC,OAAO,CAAC;AAGhC;IAA8C,oCAA2B;IADzE;QAAA,qEAkDC;QA/CS,eAAS,GAAoB,EAAE,CAAC;;IA+C1C,CAAC;IA5CG,gCAAK,GAAL;QACI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC/B,CAAC;IAED,QAAQ;IACR,mCAAQ,GAAR,UAAS,SAAgB;QAAzB,iBAYC;QAXG,IAAI,QAAQ,GAAG,OAAO,GAAG,SAAS,CAAC;QACnC,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC/B,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAC,GAAG,EAAE,MAAM;gBACpC,IAAI,GAAG,EAAE;oBACL,MAAM,CAAC,GAAG,CAAC,CAAC;iBACf;qBAAM;oBACH,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC;oBACzB,yDAAyD;iBAC3D;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,uCAAY,GAAnB,UAAoB,UAAiB;QAEjC,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC;IAC1E,CAAC;IAED,WAAW;IACJ,4CAAiB,GAAxB,UAAyB,UAAiB;QAEtC,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,CAAC;IACzE,CAAC;IAGD,UAAU;IACH,8CAAmB,GAA1B,UAA2B,GAAU;QAEjC,IAAI,GAAG,GAAc,EAAE,CAAC;QACxB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAClC;YACI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAClC;QAED,OAAO,GAAG,CAAC;IACf,CAAC;IA/CgB,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CAiDpC;IAAD,uBAAC;CAjDD,AAiDC,CAjD6C,mBAAS,GAiDtD;kBAjDoB,gBAAgB","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import Singleton from \"./Singleton\";\r\nimport ProduceBasketManager from \"./ProduceBasketManager\";\r\nimport SceneLevelData from \"./SceneLevelData\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\nlet talefun = (<any>cc).talefun;\r\n\r\n@ccclass\r\nexport default class LevelDataManager extends Singleton<LevelDataManager> {\r\n\r\n   public levelData:SceneLevelData[] = [];\r\n\r\n\r\n    start () {\r\n        this.LoadJson(\"LevelData\");\r\n    }\r\n\r\n    //读取关卡数据\r\n    LoadJson(json_name:string) {\r\n        let json_url = 'json/' + json_name;\r\n        return new Promise((resolve, reject) => {\r\n            cc.loader.loadRes(json_url, (err, object) => {\r\n                if (err) {\r\n                    reject(err);\r\n                } else {\r\n                    this.levelData = object;\r\n                   // this.StringToNumberArray(this.levelData[0].basketPos);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    \r\n    public GetBasketPos(levelIndex:number):number[]\r\n    {\r\n        return this.StringToNumberArray(this.levelData[levelIndex].basketPos);\r\n    }\r\n\r\n    ///获取球射击的位置\r\n    public GetBallAndBombPos(levelIndex:number):number[]\r\n    {\r\n        return this.StringToNumberArray(this.levelData[levelIndex].shootPos);\r\n    }\r\n\r\n\r\n    //字符串转换成数组\r\n    public StringToNumberArray(str:string):number[]\r\n    {\r\n        var num : number[] = [];\r\n        for(var i = 0; i < str.length; i++)\r\n        {\r\n            num.push(Number(str.substr(i,1)));\r\n           cc.log(Number(str.substr(i,1)));\r\n        }\r\n\r\n        return num;\r\n    }\r\n\r\n}\r\n"]}