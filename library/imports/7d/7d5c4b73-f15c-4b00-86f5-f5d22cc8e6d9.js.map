{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\AudioPlayManager.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AAGpC,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAC1C,IAAI,OAAO,GAAS,EAAG,CAAC,OAAO,CAAC;AAGhC;IAA8C,oCAA2B;IAAzE;;IA8DA,CAAC;IArDG,gCAAK,GAAL;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IAEvB,CAAC;IAEM,qCAAU,GAAjB;QACI,+CAA+C;QAC/C,uCAAuC;QACvC,wBAAwB;QACxB,IAAI;IACR,CAAC;IAGM,sCAAW,GAAlB;QAGI,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAC,IAAI,EAAC,CAAC,CAAC,CAAC;IAE7C,CAAC;IAEM,qCAAU,GAAjB,UAAkB,UAAiB,EAAC,MAAsB,EAAC,UAA0B;QAAjD,uBAAA,EAAA,cAAsB;QAAC,2BAAA,EAAA,mBAA0B;QAEjF,IAAI,GAAG,CAAC;QACR,IAAG,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,EAC5C;YACI,IAAG,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EACpC;gBACI,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aAChC;iBAED;gBACI,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,GAAC,UAAU,CAAC,CAAC;aAC3C;SAGJ;aAED;YACI,IAAG,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EACpC;gBACI,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,mBAAmB,GAAG,UAAU,CAAC,CAAC;aACtD;iBAED;gBACI,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,mBAAmB,GAAG,UAAU,GAAG,UAAU,CAAC,CAAC;aACnE;SAGJ;QAGD,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAC,MAAM,EAAC,CAAC,CAAC,CAAC;IACtC,CAAC;IA1DD;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;qDACR;IAGf;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;yDACE;IANV,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CA8DpC;IAAD,uBAAC;CA9DD,AA8DC,CA9D6C,mBAAS,GA8DtD;kBA9DoB,gBAAgB","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import Singleton from \"./Singleton\";\r\n\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\nlet talefun = (<any>cc).talefun;\r\n\r\n@ccclass\r\nexport default class AudioPlayManager extends Singleton<AudioPlayManager> {\r\n\r\n    @property(cc.AudioClip)\r\n    bgAudio:string;\r\n\r\n    @property(cc.AudioSource)\r\n    audioSource:cc.AudioSource;\r\n\r\n    \r\n    start () {\r\n        this.PlayBgMusic();\r\n        \r\n    }\r\n\r\n    public lateUpdate() {\r\n        // let context = cc.sys.__audioSupport.context;\r\n        // if (context.state === 'suspended') {\r\n        //     context.resume();\r\n        // }\r\n    }\r\n       \r\n\r\n    public PlayBgMusic()\r\n    {\r\n      \r\n        cc.audioEngine.play(this.bgAudio,true,1);\r\n        \r\n    }\r\n\r\n    public PlayEffect(effectPath:string,isLoop:boolean = false,extentName:string = \".mp3\")\r\n    {\r\n        var url;\r\n        if(effectPath.lastIndexOf(\"resources\") != -1)\r\n        {\r\n            if(effectPath.lastIndexOf(\".\") != -1)\r\n            {\r\n                url = cc.url.raw(effectPath);\r\n            }\r\n            else\r\n            {\r\n                url = cc.url.raw(effectPath+extentName);\r\n            }\r\n            \r\n          \r\n        }\r\n        else\r\n        {\r\n            if(effectPath.lastIndexOf(\".\") != -1)\r\n            {\r\n                url = cc.url.raw(\"resources/sounds/\" + effectPath);\r\n            }\r\n            else\r\n            {\r\n                url = cc.url.raw(\"resources/sounds/\" + effectPath + extentName);\r\n            }\r\n            \r\n           \r\n        }\r\n  \r\n       \r\n        cc.audioEngine.play(url,isLoop,1);\r\n    }\r\n}\r\n"]}