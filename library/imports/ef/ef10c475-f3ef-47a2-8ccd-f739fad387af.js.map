{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\raphael\\component\\optional/assets\\raphael\\component\\optional\\R.animate.js"],"names":["module","exports","animate","pathString","pathString2","duration","animating","pathes","R","utils","path2curve","fromPath","toPath","diff","i","ii","length","j","jj","_time","_duration","_animateDiff","_animating","_fromPath","_toPath","_stepAnimate","time","pos","now","_dirty","_commands","_updateAnimate","dt"],"mappings":";;;;;;AAAAA,OAAOC,OAAP,GAAiB;;AAEb;AACAC,aAAS,iBAAUC,UAAV,EAAsBC,WAAtB,EAAmCC,QAAnC,EAA6CC,SAA7C,EAAwD;AAC7D,YAAIC,SAASC,EAAEC,KAAF,CAAQC,UAAR,CAAmBP,UAAnB,EAA+BC,WAA/B,CAAb;AAAA,YACIO,WAAWJ,OAAO,CAAP,CADf;AAAA,YAEIK,SAASL,OAAO,CAAP,CAFb;;AAIA,YAAIM,OAAO,EAAX;AACA,aAAK,IAAIC,IAAI,CAAR,EAAWC,KAAKJ,SAASK,MAA9B,EAAsCF,IAAIC,EAA1C,EAA8CD,GAA9C,EAAmD;AAC/CD,iBAAKC,CAAL,IAAU,CAAC,CAAD,CAAV;AACA,iBAAK,IAAIG,IAAI,CAAR,EAAWC,KAAKP,SAASG,CAAT,EAAYE,MAAjC,EAAyCC,IAAIC,EAA7C,EAAiDD,GAAjD,EAAsD;AAClDJ,qBAAKC,CAAL,EAAQG,CAAR,IAAa,CAACL,OAAOE,CAAP,EAAUG,CAAV,IAAeN,SAASG,CAAT,EAAYG,CAAZ,CAAhB,IAAkCZ,QAA/C;AACH;AACJ;;AAED,aAAKc,KAAL,GAAa,CAAb;AACA,aAAKC,SAAL,GAAiBf,QAAjB;;AAEA,aAAKgB,YAAL,GAAoBR,IAApB;AACA,aAAKS,UAAL,GAAkB,OAAOhB,SAAP,KAAqB,WAArB,GAAmC,IAAnC,GAA0CA,SAA5D;;AAEA,aAAKiB,SAAL,GAAiBZ,QAAjB;AACA,aAAKa,OAAL,GAAeZ,MAAf;;AAEA,eAAOC,IAAP;AACH,KA1BY;;AA4BbY,kBAAc,sBAAUC,IAAV,EAAgB;AAC1B,YAAIb,OAAO,KAAKQ,YAAhB;AACA,YAAIhB,WAAW,KAAKe,SAApB;AACA,YAAIT,WAAW,KAAKY,SAApB;;AAEA,YAAII,MAAMD,OAAOrB,QAAjB;;AAEA,YAAIsB,MAAM,CAAV,EAAaA,MAAM,CAAN;;AAEb,YAAIC,MAAM,EAAV;AACA,aAAK,IAAId,IAAI,CAAR,EAAWC,KAAKJ,SAASK,MAA9B,EAAsCF,IAAIC,EAA1C,EAA8CD,GAA9C,EAAmD;AAC/Cc,gBAAId,CAAJ,IAAS,CAACH,SAASG,CAAT,EAAY,CAAZ,CAAD,CAAT;AACA,iBAAK,IAAIG,IAAI,CAAR,EAAWC,KAAKP,SAASG,CAAT,EAAYE,MAAjC,EAAyCC,IAAIC,EAA7C,EAAiDD,GAAjD,EAAsD;AAClDW,oBAAId,CAAJ,EAAOG,CAAP,IAAY,CAACN,SAASG,CAAT,EAAYG,CAAZ,CAAD,GAAkBU,MAAMtB,QAAN,GAAiBQ,KAAKC,CAAL,EAAQG,CAAR,CAA/C;AACH;AACJ;;AAED,aAAKY,MAAL,GAAc,IAAd;AACA,aAAKC,SAAL,GAAiBF,GAAjB;;AAEA,YAAID,OAAO,CAAX,EAAc;AACV,iBAAKL,UAAL,GAAkB,KAAlB;AACA,iBAAKC,SAAL,GAAiB,IAAjB;AACA,iBAAKC,OAAL,GAAe,IAAf;AACH;AACJ,KArDY;;AAuDbO,oBAAgB,wBAAUC,EAAV,EAAc;AAC1B,YAAI,KAAKV,UAAT,EAAqB;AACjB,iBAAKH,KAAL,IAAca,EAAd;AACA,iBAAKP,YAAL,CAAkB,KAAKN,KAAvB;AACH;AACJ;AA5DY,CAAjB","file":"R.animate.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\raphael\\component\\optional","sourcesContent":["module.exports = {\r\n\r\n    ////////////////////////////////////////////////////\r\n    animate: function (pathString, pathString2, duration, animating) {\r\n        var pathes = R.utils.path2curve(pathString, pathString2),\r\n            fromPath = pathes[0],\r\n            toPath = pathes[1];\r\n\r\n        var diff = [];\r\n        for (var i = 0, ii = fromPath.length; i < ii; i++) {\r\n            diff[i] = [0];\r\n            for (var j = 1, jj = fromPath[i].length; j < jj; j++) {\r\n                diff[i][j] = (toPath[i][j] - fromPath[i][j]) / duration;\r\n            }\r\n        }\r\n\r\n        this._time = 0;\r\n        this._duration = duration;\r\n\r\n        this._animateDiff = diff;\r\n        this._animating = typeof animating === 'undefined' ? true : animating;\r\n\r\n        this._fromPath = fromPath;\r\n        this._toPath = toPath;\r\n\r\n        return diff;\r\n    },\r\n\r\n    _stepAnimate: function (time) {\r\n        var diff = this._animateDiff;\r\n        var duration = this._duration;\r\n        var fromPath = this._fromPath;\r\n\r\n        var pos = time / duration;\r\n\r\n        if (pos > 1) pos = 1;\r\n\r\n        var now = [];\r\n        for (var i = 0, ii = fromPath.length; i < ii; i++) {\r\n            now[i] = [fromPath[i][0]];\r\n            for (var j = 1, jj = fromPath[i].length; j < jj; j++) {\r\n                now[i][j] = +fromPath[i][j] + pos * duration * diff[i][j];\r\n            }\r\n        }\r\n\r\n        this._dirty = true;\r\n        this._commands = now;\r\n\r\n        if (pos >= 1) {\r\n            this._animating = false;\r\n            this._fromPath = null;\r\n            this._toPath = null;\r\n        }\r\n    },\r\n\r\n    _updateAnimate: function (dt) {\r\n        if (this._animating) {\r\n            this._time += dt;\r\n            this._stepAnimate(this._time);\r\n        }\r\n    }\r\n};\r\n"]}